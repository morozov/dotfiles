#!/bin/bash

export HOMEBREW_ACCEPT_EULA=Y

(
    echo "Running: \`brew update\`"
    brew update
    echo "Done."

    echo "Running: \`brew upgrade\`"
    brew upgrade
    echo "Done."

    echo "Running: \`brew cleanup\`"
    brew cleanup
    echo "Done."
) | while IFS= read -r line; do
    echo "$(date '+%Y-%m-%d %H:%M:%S.%3N %Z') $line"
done

osascript -e 'display notification "Homebrew updated"'
